# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'evaluate.ui'
#
# Created by: PyQt5 UI code generator 5.15.0
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from calc_points import player_points
import sqlite3
myfantasy= sqlite3.connect("fantasy_cricket_DB.db")
cursfantasy=myfantasy.cursor()


class Ui_Evaluate(object):
    def setupUi(self, Evaluate):
        Evaluate.setObjectName("Evaluate")
        Evaluate.resize(638, 581)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(Evaluate.sizePolicy().hasHeightForWidth())
        Evaluate.setSizePolicy(sizePolicy)
        Evaluate.setMinimumSize(QtCore.QSize(638, 581))
        Evaluate.setMaximumSize(QtCore.QSize(638, 581))
        Evaluate.setStyleSheet("")
        self.label = QtWidgets.QLabel(Evaluate)
        self.label.setGeometry(QtCore.QRect(0, 30, 661, 581))
        self.label.setStyleSheet("")
        self.label.setText("")
        self.label.setPixmap(QtGui.QPixmap("../icons/TRON.jpg"))
        self.label.setObjectName("label")
        self.label_2 = QtWidgets.QLabel(Evaluate)
        self.label_2.setGeometry(QtCore.QRect(80, 10, 481, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setAlignment(QtCore.Qt.AlignCenter)
        self.label_2.setObjectName("label_2")
        self.layoutWidget = QtWidgets.QWidget(Evaluate)
        self.layoutWidget.setGeometry(QtCore.QRect(70, 70, 491, 381))
        self.layoutWidget.setObjectName("layoutWidget")
        self.gridLayout_2 = QtWidgets.QGridLayout(self.layoutWidget)
        self.gridLayout_2.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_2.setObjectName("gridLayout_2")
        spacerItem = QtWidgets.QSpacerItem(20, 20, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Preferred)
        self.gridLayout_2.addItem(spacerItem, 5, 0, 1, 1)
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.label_4 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setStyleSheet("color: rgb(255, 255, 255);")
        self.label_4.setObjectName("label_4")
        self.horizontalLayout.addWidget(self.label_4)
        self.eval_total = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.eval_total.setFont(font)
        self.eval_total.setStyleSheet("color: rgb(184, 0, 0);background-color: rgb(255, 255, 255);")
        self.eval_total.setIndent(0)
        self.eval_total.setObjectName("eval_total")
        self.horizontalLayout.addWidget(self.eval_total)
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem1)
        self.gridLayout_2.addLayout(self.horizontalLayout, 6, 2, 1, 1)
        spacerItem2 = QtWidgets.QSpacerItem(90, 20, QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Minimum)
        self.gridLayout_2.addItem(spacerItem2, 7, 1, 1, 1)
        self.eval_point = QtWidgets.QListWidget(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.eval_point.setFont(font)
        self.eval_point.setStyleSheet("color: rgb(0, 72, 0);\n"
"background-color: qlineargradient(spread:reflect, x1:0, y1:0, x2:1, y2:0, stop:0 rgba(255, 255, 255, 255), stop:0.982955 rgba(0, 146, 137, 255));")
        self.eval_point.setObjectName("eval_point")
        item = QtWidgets.QListWidgetItem()
        self.eval_point.addItem(item)
        self.gridLayout_2.addWidget(self.eval_point, 7, 2, 1, 1)
        spacerItem3 = QtWidgets.QSpacerItem(0, 20, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Preferred)
        self.gridLayout_2.addItem(spacerItem3, 2, 0, 1, 1)
        self.eval_players = QtWidgets.QListWidget(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.eval_players.setFont(font)
        self.eval_players.setStyleSheet("background-color: qlineargradient(spread:reflect, x1:0, y1:0, x2:1, y2:0, stop:0 rgba(0, 146, 137, 255), stop:1 rgba(255, 255, 255, 255));")
        self.eval_players.setObjectName("eval_players")
        item = QtWidgets.QListWidgetItem()
        self.eval_players.addItem(item)
        self.gridLayout_2.addWidget(self.eval_players, 7, 0, 1, 1)
        self.eval_team = QtWidgets.QComboBox(self.layoutWidget)
        self.eval_team.setStyleSheet("\n"
"background-color: qlineargradient(spread:reflect, x1:0.995, y1:0.937, x2:0, y2:0, stop:0 rgba(143, 0, 12, 255), stop:1 rgba(255, 255, 255, 255));")
        self.eval_team.setObjectName("eval_team")
        self.eval_team.addItem("")
        self.gridLayout_2.addWidget(self.eval_team, 1, 0, 1, 1)
        self.line_2 = QtWidgets.QFrame(self.layoutWidget)
        self.line_2.setFrameShape(QtWidgets.QFrame.HLine)
        self.line_2.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.line_2.setObjectName("line_2")
        self.gridLayout_2.addWidget(self.line_2, 4, 0, 1, 3)
        self.eval_match = QtWidgets.QComboBox(self.layoutWidget)
        self.eval_match.setStyleSheet("background-color: qlineargradient(spread:reflect, x1:0.995, y1:0.937, x2:0, y2:0, stop:0 rgba(143, 0, 12, 255), stop:1 rgba(255, 255, 255, 255));")
        self.eval_match.setObjectName("eval_match")
        self.eval_match.addItem("")
        self.eval_match.addItem("")
        self.gridLayout_2.addWidget(self.eval_match, 1, 2, 1, 1)
        self.label_3 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_3.setFont(font)
        self.label_3.setStyleSheet("color: rgb(255, 255, 255);")
        self.label_3.setObjectName("label_3")
        self.gridLayout_2.addWidget(self.label_3, 6, 0, 1, 1)
        self.label_6 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(12)
        font.setBold(True)
        font.setUnderline(True)
        font.setWeight(75)
        self.label_6.setFont(font)
        self.label_6.setObjectName("label_6")
        self.gridLayout_2.addWidget(self.label_6, 0, 0, 1, 1)
        self.label_7 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(12)
        font.setBold(True)
        font.setUnderline(True)
        font.setWeight(75)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.gridLayout_2.addWidget(self.label_7, 0, 2, 1, 1)
        self.eval_calc = QtWidgets.QPushButton(Evaluate)
        self.eval_calc.setGeometry(QtCore.QRect(250, 480, 131, 31))
        palette = QtGui.QPalette()
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0, 128))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.PlaceholderText, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0, 128))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.PlaceholderText, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(120, 120, 120))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(156, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(0, 0, 0, 128))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.PlaceholderText, brush)
        self.eval_calc.setPalette(palette)
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.eval_calc.setFont(font)
        self.eval_calc.setAutoFillBackground(False)
        self.eval_calc.setStyleSheet("background-color: rgb(156, 0, 0);")
        self.eval_calc.setObjectName("eval_calc")

        self.retranslateUi(Evaluate)
        QtCore.QMetaObject.connectSlotsByName(Evaluate)

        self.eval_calc.clicked.connect(self.final_score)
        selected_team = self.eval_team.currentText()

        self.selectplayer(selected_team)
        self.eval_team.currentTextChanged.connect(self.selectplayer)
 
    def retranslateUi(self, Evaluate):
        _translate = QtCore.QCoreApplication.translate
        Evaluate.setWindowTitle(_translate("Evaluate", "Evaluate"))
        self.label_2.setText(_translate("Evaluate", "<html><head/><body><p><span style=\" color:#930000;\">Evaluate the Performance of your Fantesy Team</span></p></body></html>"))
        self.label_4.setText(_translate("Evaluate", "Points:"))
        self.eval_total.setText(_translate("Evaluate", "00.00"))
        __sortingEnabled = self.eval_point.isSortingEnabled()
        self.eval_point.setSortingEnabled(False)
        item = self.eval_point.item(0)
        item.setText(_translate("Evaluate", "New Item"))
        self.eval_point.setSortingEnabled(__sortingEnabled)
        __sortingEnabled = self.eval_players.isSortingEnabled()
        self.eval_players.setSortingEnabled(False)
        item = self.eval_players.item(0)
        item.setText(_translate("Evaluate", "New Item"))
        self.eval_players.setSortingEnabled(__sortingEnabled)
        self.eval_team.setItemText(0, _translate("Evaluate", "select team"))
        self.eval_match.setItemText(0, _translate("Evaluate", "select match"))
        self.eval_match.setItemText(1, _translate("Evaluate", "MATCH-1"))
        self.label_3.setText(_translate("Evaluate", "Players"))
        self.label_6.setText(_translate("Evaluate", "<html><head/><body><p><span style=\" color:#ffffff;\">Select Team</span></p></body></html>"))
        self.label_7.setText(_translate("Evaluate", "<html><head/><body><p><span style=\" color:#ffffff;\">Select Match</span></p></body></html>"))
        self.eval_calc.setText(_translate("Evaluate", "Calculate Score"))
        x = cursfantasy.execute("SELECT  DISTINCT name from teams;")
        team = x.fetchall()
        for i in team:
            self.eval_team.addItem(i[0])

    def selectplayer(self, t):
        self.eval_players.clear()
        self.eval_point.clear()
        y = cursfantasy.execute("SELECT players from teams WHERE name='" + t + "';")
        player = y.fetchall()
        for j in player:
            self.eval_players.addItem(j[0])
        z = cursfantasy.execute("SELECT value from teams WHERE name='" + t + "';")
        value = z.fetchall()
        for k in value:
           self.eval_point.addItem(str(k[0]))

    def final_score(self):
        total_score=0
        t=self.eval_team.currentText()   # current teamname
        z =cursfantasy.execute("SELECT value from teams WHERE name='" + t + "';")
        value = z.fetchall()
        for k in value:
            total_score+=k[0]
        self.eval_total.setText(str(total_score))

if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Evaluate = QtWidgets.QDialog()
    ui = Ui_Evaluate()
    ui.setupUi(Evaluate)
    Evaluate.show()
    sys.exit(app.exec_())
